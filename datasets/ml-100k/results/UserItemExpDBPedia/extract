#!/usr/bin/python

import sys
import os
import subprocess
from time import gmtime, strftime, localtime
from datetime import datetime

for alg in os.listdir("."):
    if not "extract" in alg: 
        if not os.path.exists("./"+alg+"/summaries/"):
	        os.makedirs("./"+alg+"/summaries/")
        for given in os.listdir("./"+alg):
	        if "given" in given: 
		        #for top in os.listdir(given):
		        #with open("./summaries/"+given+".summary", "a") as myfile:
            	#		myfile.write("\nResult "+top+"\n")
		        #cmd = "cat ./"+given+"/"+top+"/"+"metrics.complete"
		        #cmd += " >> ./summaries/"+given+".summary"
		        #subprocess.call(cmd, shell=True)
		        with open("./"+alg+"/summaries/"+given+".summary", "a") as myfile:
            			myfile.write("\nResult Top 5 \n")
		        cmd = "cat ./"+alg+"/"+given+"/top_5/"+"metrics.complete"
		        cmd += " >> ./"+alg+"/summaries/"+given+".summary"
		        subprocess.call(cmd, shell=True)
		        with open("./"+alg+"/summaries/"+given+".summary", "a") as myfile:
            			myfile.write("\nResult Top 10 \n")
		        cmd = "cat ./"+alg+"/"+given+"/top_10/"+"metrics.complete"
		        cmd += " >> ./"+alg+"/summaries/"+given+".summary"
		        subprocess.call(cmd, shell=True)
		        with open("./"+alg+"/summaries/"+given+".summary", "a") as myfile:
            			myfile.write("\nResult Top 15 \n")
		        cmd = "cat ./"+alg+"/"+given+"/top_15/"+"metrics.complete"
		        cmd += " >> ./"+alg+"/summaries/"+given+".summary"
		        subprocess.call(cmd, shell=True)
		        with open("./"+alg+"/summaries/"+given+".summary", "a") as myfile:
            			myfile.write("\nResult Top 20 \n")
		        cmd = "cat ./"+alg+"/"+given+"/top_20/"+"metrics.complete"
		        cmd += " >> ./"+alg+"/summaries/"+given+".summary"
		        subprocess.call(cmd, shell=True)
		        with open("./"+alg+"/summaries/"+given+".summary", "a") as myfile:
            			myfile.write("\nResult Top 30 \n")
		        cmd = "cat ./"+alg+"/"+given+"/top_30/"+"metrics.complete"
		        cmd += " >> ./"+alg+"/summaries/"+given+".summary"
		        subprocess.call(cmd, shell=True)
		        with open("./"+alg+"/summaries/"+given+".summary", "a") as myfile:
            			myfile.write("\nResult Top 50 \n")
		        cmd = "cat ./"+alg+"/"+given+"/top_50/"+"metrics.complete"
		        cmd += " >> ./"+alg+"/summaries/"+given+".summary"
		        subprocess.call(cmd, shell=True)

